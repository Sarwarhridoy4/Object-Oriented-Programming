# ЁЯЪА TypeScript ржлрж╛ржЗрж▓ ржбрж╛ржЗржирж╛ржорж┐ржХржнрж╛ржмрзЗ рж░рж╛ржи ржХрж░рзБржи `ts-node-dev` ржжрж┐рзЯрзЗ

ржПржЗ ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржиржЯрж┐ ржЖржкржирж╛ржХрзЗ ржжрзЗржЦрж╛ржмрзЗ ржХрж┐ржнрж╛ржмрзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ ржлрж╛ржЗрж▓рзЗрж░ ржирж╛ржо ржжрж┐рзЯрзЗ ржЖржкржирж┐ TypeScript ржХрзЛржб рж░рж╛ржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржи тАФ ржмрж╛рж░ржмрж╛рж░ рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржмржжрж▓рж╛ржирзЛрж░ ржжрж░ржХрж╛рж░ ржирзЗржЗ! ЁЯза

---

## тЬЕ ржзрж╛ржк рзз: ржкрзНрж░ржЬрзЗржХрзНржЯ рж╕рзЗржЯржЖржк ржХрж░рзБржи

ржкрзНрж░ржержорзЗ ржЖржкржирж╛рж░ Node.js ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ `ts-node-dev` ржЗржирж╕рзНржЯрж▓ ржХрж░рзБржи:

```bash
npm install --save-dev ts-node-dev
```

## тЬЕ ржзрж╛ржк рзи: рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржпрзБржХрзНржд ржХрж░рзБржи

ржЖржкржирж╛рж░ package.json ржлрж╛ржЗрж▓рзЗ ржирж┐ржЪрзЗрж░ ржорждрзЛ ржПржХржЯрж┐ рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржпрзБржХрзНржд ржХрж░рзБржи:

```json
"scripts": {
  "watch": "node watch-entry.js"
}

```

## ржзрж╛ржк рзй: watch-entry.js ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи

ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ рж░рзБржЯ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рждрзЗ ржПржХржЯрж┐ ржирждрзБржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи: watch-entry.js
ржПржмржВ ржирж┐ржЪрзЗрж░ ржХрзЛржбржЯрж┐ ржХржкрж┐-ржкрзЗрж╕рзНржЯ ржХрж░рзБржи:

```js
const fs = require("fs");
const path = require("path");
const { spawn } = require("child_process");

const file = process.argv[2];

if (!file) {
  console.log("ЁЯУВ src ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржкрж╛ржУрзЯрж╛ ржЧрзЗржЫрзЗ ржирж┐ржЪрзЗрж░ TypeScript ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ:\n");

  // Recursive .ts file fetcher
  function listTSFiles(dir, prefix = "") {
    const entries = fs.readdirSync(dir, { withFileTypes: true });
    for (const entry of entries) {
      const fullPath = path.join(dir, entry.name);
      const relativePath = path.join(prefix, entry.name);
      if (entry.isDirectory()) {
        listTSFiles(fullPath, relativePath);
      } else if (entry.isFile() && entry.name.endsWith(".ts")) {
        console.log(`- ${relativePath}`);
      }
    }
  }

  listTSFiles("src");
  console.log("\nтЭЧ ржЙржжрж╛рж╣рж░ржг рж░рж╛ржи ржХрж░рж╛рж░ ржЬржирзНржп: npm run watch -- utils/helper.ts");
  process.exit(0);
}

const fullPath = path.normalize(path.join("src", file));

if (!fs.existsSync(fullPath)) {
  console.error(`тЭМ ржлрж╛ржЗрж▓ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐: ${fullPath}`);
  process.exit(1);
}

console.log(`ЁЯЪА Watching file: ${file}`);

spawn(
  path.join("node_modules", ".bin", "ts-node-dev"),
  ["--respawn", "--transpile-only", "--watch", "src", fullPath],
  {
    stdio: "inherit",
    shell: true,
  }
);
```

тЮбя╕П ржПржЯрж┐ рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ src/<your_file_name>.ts ржлрж╛ржЗрж▓ржЯрж┐ рж░рж╛ржи ржХрж░ржмрзЗ ржПржмржВ ржкрж░рж┐ржмрж░рзНрждржи ржжрзЗржЦрж▓рзЗржЗ рж░рж┐рж▓рзЛржб ржХрж░ржмрзЗред

## ЁЯЧВя╕П Nested ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржерж╛ржХрж╛ ржлрж╛ржЗрж▓ рж░рж╛ржи ржХрж░рж╛

ржЖржкржирж┐ ржпржжрж┐ `src` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рж░ ржнрж┐рждрж░рзЗ ржХрзЛржирзЛ рж╕рж╛ржм-ржлрзЛрж▓рзНржбрж╛рж░рзЗ `.ts` ржлрж╛ржЗрж▓ рж░рж╛ржЦрзЗржи, рждрж╛ржУ ржЖржкржирж┐ рж╕рж╣ржЬрзЗржЗ рждрж╛ рж░рж╛ржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

### ЁЯУБ ржЙржжрж╛рж╣рж░ржг ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░:

```code
src/
тФЬтФАтФА utils/
тФВ тФФтФАтФА helper.ts
```

### ЁЯЪА рж░рж╛ржи ржХрж░рж╛рж░ ржирж┐рзЯржо:

```bash
npm run watch -- utils/helper.ts
```

ржПржЯрж┐ рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ src/utils/helper.ts ржлрж╛ржЗрж▓ржЯрж┐ рж░рж╛ржи ржХрж░ржмрзЗ ржПржмржВ ржлрж╛ржЗрж▓ржЯрж┐ ржкрж░рж┐ржмрж░рзНрждржи рж╣рж▓рзЗржЗ ржЖржмрж╛рж░ рж░рж╛ржи рж╣ржмрзЗред

ЁЯза ржоржирзЗ рж░рж╛ржЦржмрзЗржи: ржЖржкржирж┐ src/-ржПрж░ ржкрж░ ржерзЗржХрзЗ ржлрж╛ржЗрж▓ ржкрж╛рже ржжрж┐ржмрзЗржи (e.g. utils/helper.ts)ред

ЁЯЫбя╕П Windows ржПржмржВ Linux ржжрзБржЯрж┐рждрзЗржЗ ржХрж╛ржЬ ржХрж░рж╛рж░ ржЬржирзНржп path normalize:
watch-entry.js-ржП ржирж┐ржЪрзЗрж░ рж▓рж╛ржЗржирзЗ path.normalize() ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржХрзНрж░рж╕-ржкрзНрж▓рзНржпрж╛ржЯржлрж░рзНржо рж╕рж╛ржкрзЛрж░рзНржЯ ржЖрж░ржУ ржнрж╛рж▓рзЛ рж╣рзЯ:

```bash
const fullPath = path.normalize(path.join("src", file));
```

ржПржнрж╛ржмрзЗ ржЖржкржирж┐ ржЖржкржирж╛рж░ рж╕ржм .ts ржлрж╛ржЗрж▓ рж╕рж╛ржмржлрзЛрж▓рзНржбрж╛рж░рж╕рж╣ ржжрзНрж░рзБржд ржУ рж╕рж╣ржЬрзЗ рж░рж╛ржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи тАФ рж╕ржорзНржкрзВрж░рзНржг ржЕржЯрзЛржорзЗржЯрзЗржбржнрж╛ржмрзЗ! ЁЯТ╗тЪб

## ЁЯОБ ржмрж╛рзЬрждрж┐ рж╕рзБржмрж┐ржзрж╛: ржлрж╛ржЗрж▓ рж▓рж┐рж╕рзНржЯ ржжрзЗржЦрж╛ржирзЛ ЁЯОп

ржЖржкржирж┐ ржпржжрж┐ ржХрзЛржирзЛ `.ts` ржлрж╛ржЗрж▓рзЗрж░ ржирж╛ржо ржирж╛ ржжрзЗржи, рждрж╛рж╣рж▓рзЗ ржПржЗ ржЯрзБрж▓ржЯрж┐ рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯржнрж╛ржмрзЗ `src/` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ рж╕ржм `.ts` ржлрж╛ржЗрж▓ рж▓рж┐рж╕рзНржЯ ржЖржХрж╛рж░рзЗ ржжрзЗржЦрж╛ржмрзЗред ржПрждрзЗ ржЖржкржирж┐ рж╕рж╣ржЬрзЗржЗ ржХрзЛржи ржлрж╛ржЗрж▓ рж░рж╛ржи ржХрж░ржмрзЗржи рждрж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

### ЁЯзк ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ

```bash
npm run watch
```

ржПржЯрж┐ ржПржХржЯрж┐ ржХрж╛рж╕рзНржЯржо CLI ржЯрзБрж▓ рж╣рж┐рж╕рзЗржмрзЗржУ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп!

## ЁЯОп ржЙржкрж╕ржВрж╣рж╛рж░

ржПржЗ ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржкрзНрж░рждрж┐ржмрж╛рж░ ржлрж╛ржЗрж▓рзЗрж░ ржирж╛ржо package.json-ржП ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ ржХрж░рзЗ ржбрж╛ржЗржирж╛ржорж┐ржХржнрж╛ржмрзЗ ржпрзЗ ржХрзЛржирзЛ .ts ржлрж╛ржЗрж▓ рж░рж╛ржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи ржЦрзБржм рж╕рж╣ржЬрзЗ ржУ ржкрзЗрж╢рж╛ржжрж╛рж░ржнрж╛ржмрзЗред ЁЯзй

Happy coding! ЁЯЪА
```
